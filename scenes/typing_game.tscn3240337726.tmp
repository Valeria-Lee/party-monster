[gd_scene load_steps=5 format=3 uid="uid://dhr8a25mgvr4b"]

[ext_resource type="Script" uid="uid://8xnpcfahd4ro" path="res://scripts/typing__game.gd" id="1_vinoj"]
[ext_resource type="FontFile" uid="uid://c6akjplo8upcq" path="res://assets/font/FiraCode-Medium.ttf" id="2_bc8on"]
[ext_resource type="Shader" uid="uid://c13pc7frxl8ne" path="res://crt.gdshader" id="3_8awr0"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mykb5"]
shader = ExtResource("3_8awr0")
shader_parameter/overlay = false
shader_parameter/scanlines_opacity = 0.4
shader_parameter/scanlines_width = 0.25
shader_parameter/grille_opacity = 0.3
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/pixelate = true
shader_parameter/roll = true
shader_parameter/roll_speed = 8.0
shader_parameter/roll_size = 15.0
shader_parameter/roll_variation = 1.8
shader_parameter/distort_intensity = 0.05
shader_parameter/noise_opacity = 0.4
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.06
shader_parameter/aberration = 0.03
shader_parameter/brightness = 1.4
shader_parameter/discolor = true
shader_parameter/warp_amount = 1.0
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.5

[node name="TypingGame" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_vinoj")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UIRoot" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="CanvasLayer/UIRoot"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="GameTitle" type="Label" parent="CanvasLayer/UIRoot"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -133.0
offset_top = 28.0
offset_right = 133.0
offset_bottom = 96.0
grow_horizontal = 2
theme_override_colors/font_color = Color(0.5397813, 0.773703, 0.17267174, 1)
theme_override_fonts/font = ExtResource("2_bc8on")
theme_override_font_sizes/font_size = 40
text = "Typing game"

[node name="TargetTextContainer" type="MarginContainer" parent="CanvasLayer/UIRoot"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.50600004
anchor_right = 0.5
anchor_bottom = 0.50600004
offset_left = -473.0
offset_top = -201.88803
offset_right = 473.0
offset_bottom = 202.11197
grow_horizontal = 2
grow_vertical = 2

[node name="TargetText" type="RichTextLabel" parent="CanvasLayer/UIRoot/TargetTextContainer"]
layout_mode = 2
theme_override_colors/default_color = Color(0.6281089, 0.70495063, 0.54842114, 1)
theme_override_constants/line_separation = 10
theme_override_fonts/normal_font = ExtResource("2_bc8on")
theme_override_font_sizes/normal_font_size = 30
text = "Computer science isn't about computers, much like astronomy isn't about telescopes. The computer was born to solve problems that did not exist before. One machine can do the work of fifty ordinary men. No machine can do the work of one extraordinary man"

[node name="TextEditContainer" type="MarginContainer" parent="CanvasLayer/UIRoot"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -478.0
offset_top = -210.0
offset_right = 485.0
offset_bottom = 206.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextEdit" type="TextEdit" parent="CanvasLayer/UIRoot/TextEditContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0.6627451, 0.9372549, 0.24705882, 1)
theme_override_constants/caret_width = 1
theme_override_constants/outline_size = 0
theme_override_constants/line_spacing = 10
theme_override_fonts/font = ExtResource("2_bc8on")
theme_override_font_sizes/font_size = 30
wrap_mode = 1
caret_blink = true
caret_blink_interval = 0.7

[node name="TimerLabel" type="Label" parent="CanvasLayer/UIRoot"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -62.5
offset_top = 138.5
offset_right = 62.5
offset_bottom = 201.5
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0.8627451, 0.078431375, 0.23529412, 1)
theme_override_fonts/font = ExtResource("2_bc8on")
theme_override_font_sizes/font_size = 50
text = "00:50"

[node name="LostLabel" type="Label" parent="CanvasLayer/UIRoot"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -123.0
offset_top = -33.0
offset_right = 123.0
offset_bottom = 33.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(1, 0.07450981, 0.22745098, 1)
theme_override_fonts/font = ExtResource("2_bc8on")
theme_override_font_sizes/font_size = 60
text = "YOU LOST!"
horizontal_alignment = 1

[node name="ShaderLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="ColorRect" type="ColorRect" parent="ShaderLayer"]
material = SubResource("ShaderMaterial_mykb5")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)

[node name="Timer" type="Timer" parent="."]
wait_time = 120.0
one_shot = true
autostart = true

[connection signal="text_changed" from="CanvasLayer/UIRoot/TextEditContainer/TextEdit" to="." method="_on_text_edit_text_changed"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
